<section class="map-archive-container">
  <div class="map-header">
    <h2>Eksploro Shqipërinë</h2>
    <p>Kliko mbi një qytet për të zbuluar trashëgiminë e tij kulturore</p>
  </div>

  <div class="map-content">
    <div class="albania-map">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:amcharts="http://amcharts.com/ammap" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 800 900">
        <defs>
          <filter id="glow">
            <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
            <feMerge> 
              <feMergeNode in="coloredBlur"/>
              <feMergeNode in="SourceGraphic"/>
            </feMerge>
          </filter>
        </defs>
        <g>
          <!-- Berat -->
          <path 
            id="AL-01" 
            [attr.class]="getCityClass('AL-01')"
            (click)="onCityClick('AL-01')"
            (mouseenter)="onCityHover('AL-01')"
            (mouseleave)="onCityLeave()"
            d="M110.046,476.906L110.721,477.429L110.364,480.174L111.912,480.696L111.912,480.696L114.512,479.808L115.981,480.592L115.981,480.592L115.803,481.638L112.984,481.689L112.389,482.893L115.108,484.304L114.87,487.648L115.664,488.771L116.458,486.446L118.006,486.289L120.706,479.547L123.663,478.187L128.586,478.239L135.454,474.082L143.93,474.579L146.391,471.859L150.937,471.205L152.445,480.252L152.187,486.604L153.001,490L154.529,489.556L158.34,486.211L159.194,487.021L158.618,489.425L160.603,491.437L161.635,491.724L164.751,490.81L165.585,494.754L169.655,500.055L171.004,504.728L175.669,508.355L175.431,511.644L181.326,512.427L186.745,510.183L188.948,511.879L192.184,515.792L193.494,516.392L200.62,515.505L206.555,514.044L206.555,514.044L209.791,518.427L211.537,524.372L214.257,527.918L217.115,536.127L219.517,539.02L221.661,539.696L221.601,543.864L222.832,546.624L225.412,548.551L229.958,547.77L235.496,548.968L235.734,550.452L234.821,553.836L231.486,559.249L230.93,561.461L234.027,566.273L234.86,574.334L236.627,580.807L237.044,586.003L237.044,586.003L233.431,586.315L230.911,587.458L228.112,587.718L225.492,586.652L223.109,586.497L221.521,588.212L220.728,591.433L221.145,593.926L222.871,597.405L222.375,599.378L220.053,599.716L217.194,598.365L211.16,598.703L208.103,599.871L206.237,601.48L208.103,603.012L208.262,604.518L201.731,608.877L199.488,605.166L191.985,597.354L190.497,592.835L187.202,591.978L183.609,592.212L183.271,587.406L178.904,580.261L174.359,575.322L169.734,573.606L167.689,571.422L165.863,570.98L162.787,572.229L161.576,577.479L159.293,574.725L158.122,572.307L157.249,571.969L155.799,572.072L153.378,573.477L148.614,571.969L145.756,571.942L140.376,574.438L128.149,570.59L128.149,570.59L128.367,566.897L127.613,564.271L124.556,560.134L121.916,560.55L121.341,560.159L121.301,558.364L119.693,557.375L118.602,555.71L117.41,549.749L112.924,542.979L111.476,542.849L111.694,541.416L115.326,536.987L113.897,527.865L111.237,525.415L109.709,521.217L104.747,515.74L103.853,512.948L104.012,509.399L102.086,503.188L97.918,496.269L98.018,489.765L98.752,490.601L99.605,490.652L101.332,488.902L99.665,487.465L99.943,486.524L101.908,484.904L100.359,484.408L99.962,483.676L100.34,482.709L101.669,482.238L101.451,480.305L104.012,480.592L105.104,479.651L106.235,481.794L106.89,481.82L109.193,477.455z"/>
          
          <!-- Dibër -->
          <path 
            id="AL-09" 
            [attr.class]="getCityClass('AL-09')"
            (click)="onCityClick('AL-09')"
            (mouseenter)="onCityHover('AL-09')"
            (mouseleave)="onCityLeave()"
            d="M190.06,210.776L191.39,210.883L193.216,212.317L197.384,210.962L202.287,207.881L203.181,206.686L207.806,204.827L208.083,201.691L209.632,201.452L215.11,205.65L215.805,206.739L216.162,212.476L214.772,215.981L214.852,218.264L218.862,224.103L221.462,225.085L223.864,224.926L226.146,223.599L231.585,221.9L232.062,219.883L231.466,216.406L232.042,215.53L238.056,215.131L249.628,215.955L255.563,214.388L255.444,213.007L253.599,211.732L253.956,210.378L255.246,210.219L257.37,211.6L257.37,211.6L257.946,217.919L257.35,223.174L259.653,230.232L259.692,232.54L254.75,232.619L254.492,234.794L251.892,235.801L252.308,237.923L249.41,242.721L249.271,246.353L248.199,249.718L249.013,252.605L250.562,254.751L251.078,259.386L248.438,266.614L250.562,269.34L250.343,273.071L251.892,274.209L253.817,276.934L253.34,277.516L254.313,278.891L254.591,280.531L255.762,281.854L256.497,287.538L253.241,288.86L249.648,292.005L244.587,292.798L242.959,293.67L239.307,293.354L237.877,293.855L237.679,294.437L239.803,295.969L239.724,298.136L236.369,302.653L236.488,304.951L238.414,306.351L240.736,306.721L240.597,308.807L242.006,310.443L244.229,311.262L245.996,315.802L246.413,319.47L247.644,321.766L246.81,323.322L247.088,324.219L248.696,325.591L249.926,325.327L250.701,325.987L253.321,326.145L252.943,328.123L256.536,331.077L257.191,333.371L257.311,335.005L256,335.717L255.107,338.722L254.174,339.618L255.385,341.146L255.385,342.069L252.983,344.388L252.487,346.469L250.641,347.681L250.363,350.236L248.478,352.185L245.877,349.789L244.924,349.551L244.686,352.185L243.436,353.37L244.746,354.897L246.889,361.637L246.492,363.006L247.286,364.901L247.286,364.901L245.163,365.217L242.264,364.69L238.731,366.401L237.004,366.006L234.265,366.822L231.645,366.454L229.719,364.98L228.509,362.006L227.536,361.427L220.867,365.296L218.385,366.138L216.46,365.743L216.777,364.454L218.644,362.111L219.477,356.267L219.259,354.002L218.346,352.449L211.895,348.366L212.51,343.044L211.339,341.437L208.381,339.618L203.975,339.328L201.771,340.04L198.595,343.281L192.283,347.813L188.571,348.945L188.571,348.945L188.055,345.89L186.586,344.52L183.807,343.966L180.87,344.915L179.023,344.493L176.741,341.964L170.667,332.606L168.9,331.235L166.3,331.709L161.437,338.406L161,338.353L160.305,334.214L157.407,330.417L154.569,328.492L150.777,327.859L148.713,326.382L145.696,318.098L141.409,312.027L133.131,305.638L128.883,305.163L128.883,305.163L127.176,301.729L123.147,296.736L118.423,293.142L115.147,287.723L115.147,287.723L113.659,277.992L109.768,272.462L110.225,267.196L109.749,264.258L108.18,261.398L103.417,256.499L108.319,253.903L112.607,249.32L117.232,254.539L123.782,254.937L129.102,252.738L131.603,253.559L134.183,255.254L139.046,256.711L140.972,252.552L142.361,251.307L146.669,249.161L149.428,250.088L151.75,253.665L154.152,254.009L156.296,252.552L156.653,249.665L158.598,247.386L159.928,246.697L160.345,245.027L162.35,243.172L163.005,240.786L170.567,240.309L181.644,238.374L183.887,238.506L182.894,233.335L182.735,228.773L180.214,227.924L179.56,226.889L179.996,218.98L182.755,217.494L184.363,211.892L186.606,211.069z"/>
          
          <!-- Continue with other cities... -->
          <!-- Durrës -->
          <path 
            id="AL-02" 
            [attr.class]="getCityClass('AL-02')"
            (click)="onCityClick('AL-02')"
            (mouseenter)="onCityHover('AL-02')"
            (mouseleave)="onCityLeave()"
            d="M42.339,289.626l7.166,1.375l3.335,-0.238l5.558,-1.639l0,0l2.918,1.824l3.196,-0.502l0.556,0.238l-0.02,1.321l1.806,-0.529l7.424,2.247l6.669,2.933l6.193,0.555l4.526,-0.502l14.232,-3.806l3.95,-1.665l5.3,-3.516l0,0l3.275,5.418l4.724,3.594l4.029,4.993l1.707,3.434l0,0l-0.179,3.855l-1.647,1.743l-2.58,4.857l-2.561,2.507l-2.62,3.958l-1.528,0.343l-1.846,-1.583l-2.601,1.979l-6.431,0.923l-5.102,3.772l-2.58,3.323l-3.752,2.136l-5.22,0.369l-3.99,-2.979l-0.496,-11.924l-2.799,1.452l0.457,2.902l-2.382,0.264l-1.607,1.688l-0.794,0.053l-1.37,-1.451l-1.211,-0.29l-2.898,1.82l-1.628,-0.501l-1.409,2.321l1.072,7.015l-0.615,5.509l3.731,6.482v1.687l-1.171,2.95l-0.06,2.871l1.548,6.872l-0.119,1.421l-5.677,7.105l-2.302,5.156l-1.688,-2.052l-2.144,-1.184l-7.007,1.368l-5.359,-1.052l0,0l-1.688,-5.025l-2.68,-3.5l-0.04,-0.921l-1.965,-1.948l-1.052,-0.737l-0.734,-0.369l-3.037,-0.447l-0.258,0.421l-1.33,-0.368l-0.854,2l0.437,1.053l-1.111,-1.396l-2.441,-0.869l-0.338,-1.948l-2.263,-1.58l-0.496,-7.138l0.238,-5.006l0.714,-1.159l0.02,-1.397l-0.596,-1.45l-2.68,-2.108l-0.377,-1.45l-1.231,-1.001l-1.449,-2.452l2.759,1.503l0.556,1.081l-0.874,-0.896l0.337,0.896l1.925,1.397l3.553,0.211l2.104,-1.054l1.072,-1.134l1.35,-3.164l0.04,-0.316l-0.734,1.213l0.278,-1.978l0.714,0.343l-0.297,-1.055l-0.318,-1.793l0.357,-0.264l-0.119,-0.264l-0.501,0.3l-0.452,-0.511l0.099,0.712l-0.953,-0.607l1.032,2.057l-0.337,0.158l0.258,2.189l-0.615,-2.822l-1.449,-2.453l3.831,-0.791l4.129,-2.849l1.945,-2.111l3.851,-6.202l1.31,-3.749l-0.02,-6.575l-0.595,-3.117l-1.33,-1.77l-6.808,-2.642l-1.747,-1.533l-0.496,-0.819l0.159,-1.718l-2.322,-4.943l-0.874,-0.74l5.221,2.142L42.339,289.626z"/>
          
          <!-- Add remaining cities with similar pattern... -->
          <!-- For brevity, I'll add a few more key cities -->
          
          <!-- Tiranë -->
          <path 
            id="AL-11" 
            [attr.class]="getCityClass('AL-11')"
            (click)="onCityClick('AL-11')"
            (mouseenter)="onCityHover('AL-11')"
            (mouseleave)="onCityLeave()"
            d="M128.883,305.163L133.131,305.638L141.409,312.027L145.696,318.098L148.713,326.382L150.777,327.859L154.569,328.492L157.407,330.417L160.305,334.214L161,338.353L161.437,338.406L166.3,331.709L168.9,331.235L170.667,332.606L176.741,341.964L179.023,344.493L180.87,344.915L183.807,343.966L186.586,344.52L188.055,345.89L188.571,348.945L188.571,348.945L188.551,350.21L187.38,350.947L177.733,354.582L174.061,357.109L172.989,359.637L174.101,363.638L173.625,365.638L170.369,367.322L164.216,372.005L162.548,372.426L159.809,371.689L155.125,368.743L152.147,369.585L149.825,372.189L143.949,383.628L136.685,388.596L133.27,392.012L128.506,394.035L126.521,395.506L123.425,395.927L121.916,398.605L119.396,399.814L117.926,403.727L115.287,403.359L113.302,404.777L111.575,406.956L110.662,407.219L108.915,406.536L104.409,408.558L102.623,407.849L100.519,405.617L98.375,405.88L96.648,407.508L95.774,411.996L89.264,417.296L87.199,423.539L83.626,424.93L81.423,427.054L81.423,427.054L78.088,423.775L75.607,424.195L74.297,425.899L73.662,425.191L73.364,423.303L71.181,424.903L70.883,424.457L71.776,422.805L70.784,422.517L69.434,424.457L68.6,424.641L66.754,422.543L65.464,423.592L63.757,423.225L62.883,423.67L62.288,425.979L58.735,426.293L58.457,427.499L58.953,429.491L58.457,430.095L56.75,429.99L55.896,429.203L53.237,429.282L51.053,428.233L50.22,428.469L49.048,430.121L47.639,428.207L47.798,431.379L46.825,432.532L46.19,432.113L44.403,427.84L42.835,427.236L41.525,428.601L40.93,427.866L39.798,428.495L40.434,430.147L41.724,430.881L41.565,431.772L40.751,431.852L39.838,430.278L39.064,430.383L39.382,432.113L38.25,432.664L37.357,434.132L37.774,437.041L38.905,437.984L38.965,439.504L36.364,439.714L34.181,440.762L34.181,440.762L34.558,434.63L37.357,425.008L38.131,418.556L37.655,410.657L34.161,402.099L38.389,401.573L40.771,398.737L41.327,394.088L42.538,391.408L43.074,388.228L47.977,382.603L49.882,377.896L50.656,373.873L50.319,370.848L50.319,370.848L55.678,371.9L62.685,370.532L64.829,371.716L66.516,373.768L68.818,368.611L74.496,361.506L74.615,360.084L73.066,353.212L73.126,350.342L74.297,347.392L74.297,345.705L70.565,339.223L71.181,333.713L70.109,326.699L71.518,324.377L73.146,324.879L76.044,323.059L77.255,323.349L78.625,324.8L79.418,324.747L81.026,323.059L83.408,322.795L82.952,319.893L85.75,318.441L86.247,330.365L90.236,333.344L95.457,332.975L99.208,330.839L101.789,327.517L106.89,323.745L113.321,322.821L115.922,320.842L117.768,322.425L119.296,322.083L121.916,318.125L124.477,315.617L127.057,310.76L128.705,309.018z"/>
        </g>
      </svg>
    </div>

    <div class="city-info-panel" *ngIf="hoveredCity">
      <div class="city-info-card">
        <h3>{{ hoveredCity.displayName }}</h3>
        <p class="city-description">{{ hoveredCity.description }}</p>
        <div class="city-stats" *ngIf="hoveredCity.population">
          <div class="stat">
            <span class="stat-label">Popullsia:</span>
            <span class="stat-value">{{ hoveredCity.population | number }}</span>
          </div>
          <div class="stat" *ngIf="hoveredCity.area">
            <span class="stat-label">Sipërfaqja:</span>
            <span class="stat-value">{{ hoveredCity.area }} km²</span>
          </div>
        </div>
        <button class="explore-btn" (click)="onCityClick(hoveredCity.id)">
          Eksploro {{ hoveredCity.displayName }}
        </button>
      </div>
    </div>
  </div>
</section>